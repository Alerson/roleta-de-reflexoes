{"ast":null,"code":"var _jsxFileName = \"/Users/alersonrigo/roleta-de-reflexoes/src/components/MusicaControle/MusicaControle.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport audioService from '../../services/AudioService';\nimport './MusicaControle.css';\nconst MusicaControle = ({\n  musicaSrc = '/musicas/relaxing-background.mp3'\n}) => {\n  const [tocando, setTocando] = useState(false);\n\n  // Inicializar o servi칞o de 치udio\n  useEffect(() => {\n    audioService.init(musicaSrc);\n    setTocando(audioService.isPlaying());\n\n    // Escutar mudan칞as de estado do 치udio\n    const handleAudioChange = event => {\n      if (event.detail && typeof event.detail.isPlaying === 'boolean') {\n        setTocando(event.detail.isPlaying);\n      }\n    };\n    document.addEventListener('audioStateChange', handleAudioChange);\n    return () => {\n      document.removeEventListener('audioStateChange', handleAudioChange);\n    };\n  }, [musicaSrc]);\n\n  // Alternar entre tocar e pausar a m칰sica\n  const toggleMusica = () => {\n    const novoEstado = audioService.toggle();\n    setTocando(novoEstado);\n\n    // Disparar evento para outros componentes que possam estar escutando\n    const event = new CustomEvent('audioStateChange', {\n      detail: {\n        isPlaying: novoEstado\n      }\n    });\n    document.dispatchEvent(event);\n  };\n  return /*#__PURE__*/React.createElement(\"button\", {\n    className: `musica-controle ${tocando ? 'tocando' : 'pausado'}`,\n    onClick: toggleMusica,\n    \"aria-label\": tocando ? 'Pausar m칰sica' : 'Tocar m칰sica',\n    title: tocando ? 'Pausar m칰sica' : 'Tocar m칰sica',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, tocando ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"musica-icon tocando\",\n    role: \"img\",\n    \"aria-label\": \"M\\xFAsica tocando\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, \"\\uD83D\\uDD0A\") : /*#__PURE__*/React.createElement(\"span\", {\n    className: \"musica-icon pausado\",\n    role: \"img\",\n    \"aria-label\": \"M\\xFAsica pausada\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, \"\\uD83D\\uDD07\"));\n};\nexport default MusicaControle;","map":{"version":3,"names":["React","useState","useEffect","audioService","MusicaControle","musicaSrc","tocando","setTocando","init","isPlaying","handleAudioChange","event","detail","document","addEventListener","removeEventListener","toggleMusica","novoEstado","toggle","CustomEvent","dispatchEvent","createElement","className","onClick","title","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","role"],"sources":["/Users/alersonrigo/roleta-de-reflexoes/src/components/MusicaControle/MusicaControle.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport audioService from '../../services/AudioService';\nimport './MusicaControle.css';\n\nconst MusicaControle = ({ musicaSrc = '/musicas/relaxing-background.mp3' }) => {\n  const [tocando, setTocando] = useState(false);\n\n  // Inicializar o servi칞o de 치udio\n  useEffect(() => {\n    audioService.init(musicaSrc);\n    setTocando(audioService.isPlaying());\n    \n    // Escutar mudan칞as de estado do 치udio\n    const handleAudioChange = (event) => {\n      if (event.detail && typeof event.detail.isPlaying === 'boolean') {\n        setTocando(event.detail.isPlaying);\n      }\n    };\n    \n    document.addEventListener('audioStateChange', handleAudioChange);\n    \n    return () => {\n      document.removeEventListener('audioStateChange', handleAudioChange);\n    };\n  }, [musicaSrc]);\n\n  // Alternar entre tocar e pausar a m칰sica\n  const toggleMusica = () => {\n    const novoEstado = audioService.toggle();\n    setTocando(novoEstado);\n    \n    // Disparar evento para outros componentes que possam estar escutando\n    const event = new CustomEvent('audioStateChange', { \n      detail: { isPlaying: novoEstado } \n    });\n    document.dispatchEvent(event);\n  };\n\n  return (\n    <button \n      className={`musica-controle ${tocando ? 'tocando' : 'pausado'}`}\n      onClick={toggleMusica}\n      aria-label={tocando ? 'Pausar m칰sica' : 'Tocar m칰sica'}\n      title={tocando ? 'Pausar m칰sica' : 'Tocar m칰sica'}\n    >\n      {tocando ? (\n        <span className=\"musica-icon tocando\" role=\"img\" aria-label=\"M칰sica tocando\">\n          游댉\n        </span>\n      ) : (\n        <span className=\"musica-icon pausado\" role=\"img\" aria-label=\"M칰sica pausada\">\n          游댆\n        </span>\n      )}\n    </button>\n  );\n};\n\nexport default MusicaControle;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,YAAY,MAAM,6BAA6B;AACtD,OAAO,sBAAsB;AAE7B,MAAMC,cAAc,GAAGA,CAAC;EAAEC,SAAS,GAAG;AAAmC,CAAC,KAAK;EAC7E,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGN,QAAQ,CAAC,KAAK,CAAC;;EAE7C;EACAC,SAAS,CAAC,MAAM;IACdC,YAAY,CAACK,IAAI,CAACH,SAAS,CAAC;IAC5BE,UAAU,CAACJ,YAAY,CAACM,SAAS,CAAC,CAAC,CAAC;;IAEpC;IACA,MAAMC,iBAAiB,GAAIC,KAAK,IAAK;MACnC,IAAIA,KAAK,CAACC,MAAM,IAAI,OAAOD,KAAK,CAACC,MAAM,CAACH,SAAS,KAAK,SAAS,EAAE;QAC/DF,UAAU,CAACI,KAAK,CAACC,MAAM,CAACH,SAAS,CAAC;MACpC;IACF,CAAC;IAEDI,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,EAAEJ,iBAAiB,CAAC;IAEhE,OAAO,MAAM;MACXG,QAAQ,CAACE,mBAAmB,CAAC,kBAAkB,EAAEL,iBAAiB,CAAC;IACrE,CAAC;EACH,CAAC,EAAE,CAACL,SAAS,CAAC,CAAC;;EAEf;EACA,MAAMW,YAAY,GAAGA,CAAA,KAAM;IACzB,MAAMC,UAAU,GAAGd,YAAY,CAACe,MAAM,CAAC,CAAC;IACxCX,UAAU,CAACU,UAAU,CAAC;;IAEtB;IACA,MAAMN,KAAK,GAAG,IAAIQ,WAAW,CAAC,kBAAkB,EAAE;MAChDP,MAAM,EAAE;QAAEH,SAAS,EAAEQ;MAAW;IAClC,CAAC,CAAC;IACFJ,QAAQ,CAACO,aAAa,CAACT,KAAK,CAAC;EAC/B,CAAC;EAED,oBACEX,KAAA,CAAAqB,aAAA;IACEC,SAAS,EAAE,mBAAmBhB,OAAO,GAAG,SAAS,GAAG,SAAS,EAAG;IAChEiB,OAAO,EAAEP,YAAa;IACtB,cAAYV,OAAO,GAAG,eAAe,GAAG,cAAe;IACvDkB,KAAK,EAAElB,OAAO,GAAG,eAAe,GAAG,cAAe;IAAAmB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAEjDxB,OAAO,gBACNN,KAAA,CAAAqB,aAAA;IAAMC,SAAS,EAAC,qBAAqB;IAACS,IAAI,EAAC,KAAK;IAAC,cAAW,mBAAgB;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,cAEvE,CAAC,gBAEP9B,KAAA,CAAAqB,aAAA;IAAMC,SAAS,EAAC,qBAAqB;IAACS,IAAI,EAAC,KAAK;IAAC,cAAW,mBAAgB;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,cAEvE,CAEF,CAAC;AAEb,CAAC;AAED,eAAe1B,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module"}