{"ast":null,"code":"import React,{useState,useEffect}from'react';import audioService from'../../services/AudioService';import'./MusicaControle.css';const MusicaControle=_ref=>{let{musicaSrc='/musicas/relaxing-background.mp3'}=_ref;const[tocando,setTocando]=useState(false);// Inicializar o servi칞o de 치udio\nuseEffect(()=>{audioService.init(musicaSrc);setTocando(audioService.isPlaying());// Escutar mudan칞as de estado do 치udio\nconst handleAudioChange=event=>{if(event.detail&&typeof event.detail.isPlaying==='boolean'){setTocando(event.detail.isPlaying);}};document.addEventListener('audioStateChange',handleAudioChange);return()=>{document.removeEventListener('audioStateChange',handleAudioChange);};},[musicaSrc]);// Alternar entre tocar e pausar a m칰sica\nconst toggleMusica=()=>{const novoEstado=audioService.toggle();setTocando(novoEstado);// Disparar evento para outros componentes que possam estar escutando\nconst event=new CustomEvent('audioStateChange',{detail:{isPlaying:novoEstado}});document.dispatchEvent(event);};return/*#__PURE__*/React.createElement(\"button\",{className:`musica-controle ${tocando?'tocando':'pausado'}`,onClick:toggleMusica,\"aria-label\":tocando?'Pausar m칰sica':'Tocar m칰sica',title:tocando?'Pausar m칰sica':'Tocar m칰sica'},tocando?/*#__PURE__*/React.createElement(\"span\",{className:\"musica-icon tocando\",role:\"img\",\"aria-label\":\"M\\xFAsica tocando\"},\"\\uD83D\\uDD0A\"):/*#__PURE__*/React.createElement(\"span\",{className:\"musica-icon pausado\",role:\"img\",\"aria-label\":\"M\\xFAsica pausada\"},\"\\uD83D\\uDD07\"));};export default MusicaControle;","map":{"version":3,"names":["React","useState","useEffect","audioService","MusicaControle","_ref","musicaSrc","tocando","setTocando","init","isPlaying","handleAudioChange","event","detail","document","addEventListener","removeEventListener","toggleMusica","novoEstado","toggle","CustomEvent","dispatchEvent","createElement","className","onClick","title","role"],"sources":["/Users/alersonrigo/roleta-de-reflexoes/src/components/MusicaControle/MusicaControle.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport audioService from '../../services/AudioService';\nimport './MusicaControle.css';\n\nconst MusicaControle = ({ musicaSrc = '/musicas/relaxing-background.mp3' }) => {\n  const [tocando, setTocando] = useState(false);\n\n  // Inicializar o servi칞o de 치udio\n  useEffect(() => {\n    audioService.init(musicaSrc);\n    setTocando(audioService.isPlaying());\n    \n    // Escutar mudan칞as de estado do 치udio\n    const handleAudioChange = (event) => {\n      if (event.detail && typeof event.detail.isPlaying === 'boolean') {\n        setTocando(event.detail.isPlaying);\n      }\n    };\n    \n    document.addEventListener('audioStateChange', handleAudioChange);\n    \n    return () => {\n      document.removeEventListener('audioStateChange', handleAudioChange);\n    };\n  }, [musicaSrc]);\n\n  // Alternar entre tocar e pausar a m칰sica\n  const toggleMusica = () => {\n    const novoEstado = audioService.toggle();\n    setTocando(novoEstado);\n    \n    // Disparar evento para outros componentes que possam estar escutando\n    const event = new CustomEvent('audioStateChange', { \n      detail: { isPlaying: novoEstado } \n    });\n    document.dispatchEvent(event);\n  };\n\n  return (\n    <button \n      className={`musica-controle ${tocando ? 'tocando' : 'pausado'}`}\n      onClick={toggleMusica}\n      aria-label={tocando ? 'Pausar m칰sica' : 'Tocar m칰sica'}\n      title={tocando ? 'Pausar m칰sica' : 'Tocar m칰sica'}\n    >\n      {tocando ? (\n        <span className=\"musica-icon tocando\" role=\"img\" aria-label=\"M칰sica tocando\">\n          游댉\n        </span>\n      ) : (\n        <span className=\"musica-icon pausado\" role=\"img\" aria-label=\"M칰sica pausada\">\n          游댆\n        </span>\n      )}\n    </button>\n  );\n};\n\nexport default MusicaControle;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,YAAY,KAAM,6BAA6B,CACtD,MAAO,sBAAsB,CAE7B,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAwD,IAAvD,CAAEC,SAAS,CAAG,kCAAmC,CAAC,CAAAD,IAAA,CACxE,KAAM,CAACE,OAAO,CAAEC,UAAU,CAAC,CAAGP,QAAQ,CAAC,KAAK,CAAC,CAE7C;AACAC,SAAS,CAAC,IAAM,CACdC,YAAY,CAACM,IAAI,CAACH,SAAS,CAAC,CAC5BE,UAAU,CAACL,YAAY,CAACO,SAAS,CAAC,CAAC,CAAC,CAEpC;AACA,KAAM,CAAAC,iBAAiB,CAAIC,KAAK,EAAK,CACnC,GAAIA,KAAK,CAACC,MAAM,EAAI,MAAO,CAAAD,KAAK,CAACC,MAAM,CAACH,SAAS,GAAK,SAAS,CAAE,CAC/DF,UAAU,CAACI,KAAK,CAACC,MAAM,CAACH,SAAS,CAAC,CACpC,CACF,CAAC,CAEDI,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,CAAEJ,iBAAiB,CAAC,CAEhE,MAAO,IAAM,CACXG,QAAQ,CAACE,mBAAmB,CAAC,kBAAkB,CAAEL,iBAAiB,CAAC,CACrE,CAAC,CACH,CAAC,CAAE,CAACL,SAAS,CAAC,CAAC,CAEf;AACA,KAAM,CAAAW,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAAC,UAAU,CAAGf,YAAY,CAACgB,MAAM,CAAC,CAAC,CACxCX,UAAU,CAACU,UAAU,CAAC,CAEtB;AACA,KAAM,CAAAN,KAAK,CAAG,GAAI,CAAAQ,WAAW,CAAC,kBAAkB,CAAE,CAChDP,MAAM,CAAE,CAAEH,SAAS,CAAEQ,UAAW,CAClC,CAAC,CAAC,CACFJ,QAAQ,CAACO,aAAa,CAACT,KAAK,CAAC,CAC/B,CAAC,CAED,mBACEZ,KAAA,CAAAsB,aAAA,WACEC,SAAS,CAAE,mBAAmBhB,OAAO,CAAG,SAAS,CAAG,SAAS,EAAG,CAChEiB,OAAO,CAAEP,YAAa,CACtB,aAAYV,OAAO,CAAG,eAAe,CAAG,cAAe,CACvDkB,KAAK,CAAElB,OAAO,CAAG,eAAe,CAAG,cAAe,EAEjDA,OAAO,cACNP,KAAA,CAAAsB,aAAA,SAAMC,SAAS,CAAC,qBAAqB,CAACG,IAAI,CAAC,KAAK,CAAC,aAAW,mBAAgB,EAAC,cAEvE,CAAC,cAEP1B,KAAA,CAAAsB,aAAA,SAAMC,SAAS,CAAC,qBAAqB,CAACG,IAAI,CAAC,KAAK,CAAC,aAAW,mBAAgB,EAAC,cAEvE,CAEF,CAAC,CAEb,CAAC,CAED,cAAe,CAAAtB,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module"}