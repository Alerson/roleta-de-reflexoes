{"ast":null,"code":"import React,{useContext,useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import Roleta from'../../components/Roleta';import SeletorCategoria from'../../components/SeletorCategoria';import CartaReflexao from'../../components/CartaReflexao';import Botao from'../../components/Botao';import MusicaControle from'../../components/MusicaControle';import Tutorial from'../../components/Tutorial/Tutorial';// Importando o componente Tutorial\nimport{useRoleta}from'../../hooks/useRoleta';import{MensagensContext}from'../../context/MensagensContext';import'./Home.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const{girar,angulo,girarRoleta}=useRoleta();const{cartaSelecionada,limparCartaSelecionada}=useContext(MensagensContext);const navigate=useNavigate();const[currentPlayer,setCurrentPlayer]=useState(null);const[mostrarPolitica,setMostrarPolitica]=useState(false);const[tutorialCompleto,setTutorialCompleto]=useState(false);// Estado para controlar o tutorial\n// Carregar dados do jogador e limpar carta apenas na montagem inicial\nuseEffect(()=>{// Verificar se há um jogador atual\nconst player=localStorage.getItem('currentPlayer');if(player){setCurrentPlayer(JSON.parse(player));// Limpar qualquer carta que possa estar selecionada de uma sessão anterior\n// Apenas na montagem inicial do componente\nlimparCartaSelecionada();// Verificar se o tutorial já foi mostrado\nconst showTutorial=localStorage.getItem('showTutorial');if(showTutorial==='false'){setTutorialCompleto(true);}}else{// Redirecionar para a tela inicial se não tiver jogador\nnavigate('/');return;}// Remova limparCartaSelecionada das dependências para evitar re-execução\n// eslint-disable-next-line react-hooks/exhaustive-deps\n},[navigate]);const voltarInicio=()=>{limparCartaSelecionada();navigate('/');};const handleTutorialComplete=()=>{setTutorialCompleto(true);};return/*#__PURE__*/_jsxs(\"div\",{className:\"home-container\",children:[!tutorialCompleto&&/*#__PURE__*/_jsx(Tutorial,{onComplete:handleTutorialComplete}),/*#__PURE__*/_jsx(\"h1\",{className:\"app-title\",children:\"Roleta de Reflex\\xF5es\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"nav-left\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"botao-voltar\",onClick:voltarInicio,children:[/*#__PURE__*/_jsx(\"span\",{className:\"botao-voltar-icon\",children:\"\\u2190\"}),\" Voltar\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"nav-right\",children:[/*#__PURE__*/_jsx(MusicaControle,{}),currentPlayer&&/*#__PURE__*/_jsxs(\"div\",{className:\"player-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:`avatar avatar-${currentPlayer.avatar||1}`}),/*#__PURE__*/_jsx(\"span\",{className:\"player-name\",children:currentPlayer.name})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:`jogo-area ${cartaSelecionada?'has-result':''}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"controles-area\",children:[/*#__PURE__*/_jsx(SeletorCategoria,{}),/*#__PURE__*/_jsx(Roleta,{girar:girar,angulo:angulo}),/*#__PURE__*/_jsx(Botao,{texto:\"Girar Roleta\",onClick:girarRoleta,disabled:girar})]}),cartaSelecionada&&/*#__PURE__*/_jsx(\"div\",{className:\"resultado-area\",children:/*#__PURE__*/_jsx(CartaReflexao,{mensagem:cartaSelecionada})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"politica-link\",onClick:()=>setMostrarPolitica(true),children:\"Pol\\xEDtica de Privacidade\"}),/*#__PURE__*/_jsx(\"button\",{className:\"politica-link tutorial-link\",onClick:()=>{// Resetar o tutorial e mostrar novamente\nlocalStorage.setItem('showTutorial','true');setTutorialCompleto(false);},children:\"Ver Tutorial\"})]}),mostrarPolitica&&/*#__PURE__*/_jsx(\"div\",{className:\"politica-modal-overlay\",onClick:()=>setMostrarPolitica(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"politica-modal\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"button\",{className:\"fechar-modal\",onClick:()=>setMostrarPolitica(false),children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Pol\\xEDtica de Privacidade\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"politica-conteudo\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Informa\\xE7\\xF5es Coletadas\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"O aplicativo Roleta de Reflex\\xF5es coleta e armazena localmente:\",/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"Nome de usu\\xE1rio\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Avatar selecionado\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Prefer\\xEAncias de categoria\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Hist\\xF3rico de uso do aplicativo\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Prefer\\xEAncias de m\\xFAsica (ativada/desativada)\"})]})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Como Usamos Suas Informa\\xE7\\xF5es\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Utilizamos suas informa\\xE7\\xF5es exclusivamente para personalizar sua experi\\xEAncia no aplicativo e lembrar suas prefer\\xEAncias entre sess\\xF5es.\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Armazenamento e Dados\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Todas as informa\\xE7\\xF5es s\\xE3o armazenadas localmente no seu dispositivo. N\\xE3o compartilhamos seus dados com terceiros.\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Seus Direitos\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Voc\\xEA pode acessar, corrigir ou excluir seus dados a qualquer momento atrav\\xE9s da op\\xE7\\xE3o \\\"Limpar todos os dados do perfil\\\" nas configura\\xE7\\xF5es.\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Contato\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Se voc\\xEA tiver d\\xFAvidas sobre esta Pol\\xEDtica de Privacidade, entre em contato pelo e-mail: alerson.rigo@gmail.com\"})]})]})})]});};export default Home;","map":{"version":3,"names":["React","useContext","useEffect","useState","useNavigate","Roleta","SeletorCategoria","CartaReflexao","Botao","MusicaControle","Tutorial","useRoleta","MensagensContext","jsx","_jsx","jsxs","_jsxs","Home","girar","angulo","girarRoleta","cartaSelecionada","limparCartaSelecionada","navigate","currentPlayer","setCurrentPlayer","mostrarPolitica","setMostrarPolitica","tutorialCompleto","setTutorialCompleto","player","localStorage","getItem","JSON","parse","showTutorial","voltarInicio","handleTutorialComplete","className","children","onComplete","onClick","avatar","name","texto","disabled","mensagem","setItem","e","stopPropagation"],"sources":["/Users/alersonrigo/roleta-de-reflexoes/src/pages/Home/Home.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Roleta from '../../components/Roleta';\nimport SeletorCategoria from '../../components/SeletorCategoria';\nimport CartaReflexao from '../../components/CartaReflexao';\nimport Botao from '../../components/Botao';\nimport MusicaControle from '../../components/MusicaControle';\nimport Tutorial from '../../components/Tutorial/Tutorial'; // Importando o componente Tutorial\nimport { useRoleta } from '../../hooks/useRoleta';\nimport { MensagensContext } from '../../context/MensagensContext';\nimport './Home.css';\n\nconst Home = () => {\n  const { girar, angulo, girarRoleta } = useRoleta();\n  const { cartaSelecionada, limparCartaSelecionada } = useContext(MensagensContext);\n  const navigate = useNavigate();\n  const [currentPlayer, setCurrentPlayer] = useState(null);\n  const [mostrarPolitica, setMostrarPolitica] = useState(false);\n  const [tutorialCompleto, setTutorialCompleto] = useState(false); // Estado para controlar o tutorial\n\n  // Carregar dados do jogador e limpar carta apenas na montagem inicial\n  useEffect(() => {\n    // Verificar se há um jogador atual\n    const player = localStorage.getItem('currentPlayer');\n    \n    if (player) {\n      setCurrentPlayer(JSON.parse(player));\n      // Limpar qualquer carta que possa estar selecionada de uma sessão anterior\n      // Apenas na montagem inicial do componente\n      limparCartaSelecionada();\n\n      // Verificar se o tutorial já foi mostrado\n      const showTutorial = localStorage.getItem('showTutorial');\n      if (showTutorial === 'false') {\n        setTutorialCompleto(true);\n      }\n    } else {\n      // Redirecionar para a tela inicial se não tiver jogador\n      navigate('/');\n      return;\n    }\n    // Remova limparCartaSelecionada das dependências para evitar re-execução\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [navigate]);\n\n  const voltarInicio = () => {\n    limparCartaSelecionada();\n    navigate('/');\n  };\n\n  const handleTutorialComplete = () => {\n    setTutorialCompleto(true);\n  };\n\n  return (\n    <div className=\"home-container\">\n      {!tutorialCompleto && (\n        <Tutorial onComplete={handleTutorialComplete} />\n      )}\n      \n      <h1 className=\"app-title\">Roleta de Reflexões</h1>\n      \n      <div className=\"nav-container\">\n        <div className=\"nav-left\">\n          <button className=\"botao-voltar\" onClick={voltarInicio}>\n            <span className=\"botao-voltar-icon\">←</span> Voltar\n          </button>\n        </div>\n        \n        <div className=\"nav-right\">\n          {/* Controle de música adicionado aqui */}\n          <MusicaControle />\n          \n          {currentPlayer && (\n            <div className=\"player-info\">\n              <div className={`avatar avatar-${currentPlayer.avatar || 1}`}></div>\n              <span className=\"player-name\">{currentPlayer.name}</span>\n            </div>\n          )}\n        </div>\n      </div>\n      \n      <div className={`jogo-area ${cartaSelecionada ? 'has-result' : ''}`}>\n        <div className=\"controles-area\">\n          <SeletorCategoria />\n          \n          <Roleta girar={girar} angulo={angulo} />\n          \n          <Botao \n            texto=\"Girar Roleta\" \n            onClick={girarRoleta} \n            disabled={girar} \n          />\n        </div>\n        \n        {cartaSelecionada && (\n          <div className=\"resultado-area\">\n            <CartaReflexao mensagem={cartaSelecionada} />\n          </div>\n        )}\n      </div>\n      \n      <div className=\"footer\">\n        <button \n          className=\"politica-link\"\n          onClick={() => setMostrarPolitica(true)}\n        >\n          Política de Privacidade\n        </button>\n        <button \n          className=\"politica-link tutorial-link\"\n          onClick={() => {\n            // Resetar o tutorial e mostrar novamente\n            localStorage.setItem('showTutorial', 'true');\n            setTutorialCompleto(false);\n          }}\n        >\n          Ver Tutorial\n        </button>\n      </div>\n      \n      {mostrarPolitica && (\n        <div className=\"politica-modal-overlay\" onClick={() => setMostrarPolitica(false)}>\n          <div className=\"politica-modal\" onClick={(e) => e.stopPropagation()}>\n            <button \n              className=\"fechar-modal\"\n              onClick={() => setMostrarPolitica(false)}\n            >\n              ×\n            </button>\n            \n            <h2>Política de Privacidade</h2>\n            \n            <div className=\"politica-conteudo\">\n              <h3>Informações Coletadas</h3>\n              <p>\n                O aplicativo Roleta de Reflexões coleta e armazena localmente:\n                <ul>\n                  <li>Nome de usuário</li>\n                  <li>Avatar selecionado</li>\n                  <li>Preferências de categoria</li>\n                  <li>Histórico de uso do aplicativo</li>\n                  <li>Preferências de música (ativada/desativada)</li>\n                </ul>\n              </p>\n              \n              <h3>Como Usamos Suas Informações</h3>\n              <p>\n                Utilizamos suas informações exclusivamente para personalizar sua experiência \n                no aplicativo e lembrar suas preferências entre sessões.\n              </p>\n              \n              <h3>Armazenamento e Dados</h3>\n              <p>\n                Todas as informações são armazenadas localmente no seu dispositivo. \n                Não compartilhamos seus dados com terceiros.\n              </p>\n              \n              <h3>Seus Direitos</h3>\n              <p>\n                Você pode acessar, corrigir ou excluir seus dados a qualquer momento\n                através da opção \"Limpar todos os dados do perfil\" nas configurações.\n              </p>\n              \n              <h3>Contato</h3>\n              <p>\n                Se você tiver dúvidas sobre esta Política de Privacidade, entre em contato \n                pelo e-mail: alerson.rigo@gmail.com\n              </p>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}